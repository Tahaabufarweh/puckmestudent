{"version":3,"sources":["src/app/payment/payment.page.html","src/app/payment/payment-routing.module.ts","src/app/payment/payment.module.ts","src/app/payment/payment.page.scss","src/app/payment/payment.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar style=\\\"--background : #38393d \\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button style=\\\"color: #f2c21e;\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"color: #f2c21e;text-align: center;font-size: 18px;\\\">{{'Upload_Payment' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content style=\\\"--background :#38393d; \\\">\\n  <div>\\n    <img *ngIf=\\\"dataSrv.payment == null\\\" (click)=\\\"dataSrv.presentActionSheet(100)\\\" src=\\\"assets/img/voucher.jpg\\\" style=\\\"max-width: 65%; width:50%;\\n    border: 0;\\n    border-radius: 50%;\\n    margin-left: 26%;\\n    margin-right:26%;\\n    height: 150px;\\n    width: 150px;\\n    margin-top:10%;\\\" />\\n    <img *ngIf=\\\"dataSrv.payment != null\\\" (click)=\\\"dataSrv.presentActionSheet(100)\\\" src=\\\"{{dataSrv.payment}}\\\" style=\\\"max-width: 65%; width:50%;\\n        border: 0;\\n        height: 150px;\\n    width: 150px;\\n        border-radius: 50%;\\n        margin-left: 26%;\\n        margin-right:26%;\\n        margin-top:10%;\\\" />\\n    <br>\\n    <p style=\\\"color:white; text-align:center; width:100%;\\\">\\n      {{'You_Can_Upload' | translate}}</p>\\n    <br>\\n    <div style=\\\"padding-left:4%; padding-right:4%; padding-top:2%; width: 71%;\\n      margin: auto; border:none;\\\">\\n      <input (click)=\\\"uploadPayment()\\\" class='btn bg-yellow color-white big-font m-top-butn-10' type='button'\\n        value=\\\" {{'Upload' | translate}}\\\" />\\n    </div>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PaymentPage } from './payment.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PaymentPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PaymentPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PaymentPageRoutingModule } from './payment-routing.module';\n\nimport { PaymentPage } from './payment.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    PaymentPageRoutingModule\n  ],\n  declarations: [PaymentPage]\n})\nexport class PaymentPageModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheW1lbnQvcGF5bWVudC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { AlertService, DataService } from '../service';\nimport { FileTransferObject, FileTransfer, FileUploadOptions } from '@ionic-native/file-transfer/ngx';\nimport { Camera, PictureSourceType, CameraOptions } from '@ionic-native/camera/ngx';\nimport { ActionSheetController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-payment',\n  templateUrl: './payment.page.html',\n  styleUrls: ['./payment.page.scss'],\n})\nexport class PaymentPage implements OnInit {\n  //upload_driver_payment\n  id;\n  file;\n  constructor(public actionSheetCtrl: ActionSheetController, public alertSrv: AlertService, public camera: Camera, public dataSrv: DataService, public transfer: FileTransfer) {\n    this.id = localStorage.getItem(\"driver_id\")\n  }\n\n  ngOnInit() {\n  }\n\n  uploadPayment() {\n    if (this.dataSrv.payment == null) {\n      this.alertSrv.presentToast(\"Please select an image\", \"danger\");\n      return;\n    }\n    this.alertSrv.show();\n    let api = \"api/upload_student_payment\"\n    let body = {\n      student_id: localStorage.getItem(\"driver_id\"),\n      voucher: this.dataSrv.payment_name\n    }\n    console.log(body);\n    this.dataSrv.httpPostMethod(api, body).then(res => {\n      console.log(res)\n      let temp = JSON.parse(res[\"data\"])\n      let sms = JSON.parse(res.data);\n      console.log(temp[\"data\"])\n      this.upload(this.dataSrv.payment, this.dataSrv.payment_name)\n      this.alertSrv.hide();\n      this.alertSrv.presentToast(\"Done\", \"primary\")\n    }, err => {\n      if (err.status == -3 || err.status == -4) {\n        this.alertSrv.presentToast(\"Some thing wrong please check internet connection\", \"danger\")\n      } else {\n        this.alertSrv.presentToast(\"Something wrong\", \"danger\")\n      }\n    })\n  }\n\n\n  upload(file, fileName) {\n    let options: FileUploadOptions = {\n      fileKey: 'file',\n      fileName: fileName,\n      chunkedMode: false,\n      httpMethod: 'post',\n      mimeType: \"image/jpeg\",\n      headers: {}\n    }\n\n    console.log(file)\n    console.log(fileName)\n    const fileTransfer: FileTransferObject = this.transfer.create();\n    //http://pickmeupjo.com/pickmeup/uploadphoto.php\n    fileTransfer.upload(file, 'http://pickmeupjo.com/pickmeup/uploadImage.php', options)\n      .then((data) => {\n        console.log(data)\n        // this.translate.get(\"uploadSuccess\").subscribe(value => {\n        console.log(\"Upload Success\", fileName)\n        // })\n      }, (err) => {\n        // this.translate.get(\"uploadError\").subscribe(value => {\n        console.log(\"Upload Error\", fileName)\n        // })\n        console.log(err)\n      })\n  }\n\n  pickImage(sourceType: PictureSourceType) {\n    let date = new Date().getTime()\n    const options: CameraOptions = {\n      quality: 70,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      sourceType: sourceType,\n      encodingType: this.camera.EncodingType.JPEG,\n      saveToPhotoAlbum: true\n    }\n    this.camera.getPicture(options).then((imageData) => {\n      this.file = \"data:image/jpeg;base64,\" + imageData;\n    }, (err) => {\n      console.log(err)\n    });\n  }\n\n  async presentActionSheet(id) {\n    const actionSheet = await this.actionSheetCtrl.create({\n      header: \"Choose Image\",\n      buttons: [\n        {\n          text: \"Gallery\",\n          icon: 'images',\n          handler: () => {\n            this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY);\n          }\n        }, {\n          text: \"Camera\",\n          icon: 'camera',\n          handler: () => {\n            this.pickImage(this.camera.PictureSourceType.CAMERA);\n          }\n        }, {\n          text: \"Cancel\",\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n    await actionSheet.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"payment-payment-module-es5.js"}