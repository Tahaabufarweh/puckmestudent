{"version":3,"sources":["./src/app/payment/payment.page.html","./src/app/payment/payment-routing.module.ts","./src/app/payment/payment.module.ts","./src/app/payment/payment.page.scss","./src/app/payment/payment.page.ts"],"names":[],"mappings":"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","file":"payment-payment-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar style=\\\"--background : #38393d \\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button style=\\\"color: #f2c21e;\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title style=\\\"color: #f2c21e;text-align: center;font-size: 18px;\\\">{{'Upload_Payment' | translate}}</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content style=\\\"--background :#38393d; \\\">\\n  <div>\\n    <img *ngIf=\\\"dataSrv.payment == null\\\" (click)=\\\"dataSrv.presentActionSheet(100)\\\" src=\\\"assets/img/voucher.jpg\\\" style=\\\"max-width: 65%; width:50%;\\n    border: 0;\\n    border-radius: 50%;\\n    margin-left: 26%;\\n    margin-right:26%;\\n    height: 150px;\\n    width: 150px;\\n    margin-top:10%;\\\" />\\n    <img *ngIf=\\\"dataSrv.payment != null\\\" (click)=\\\"dataSrv.presentActionSheet(100)\\\" src=\\\"{{dataSrv.payment}}\\\" style=\\\"max-width: 65%; width:50%;\\n        border: 0;\\n        height: 150px;\\n    width: 150px;\\n        border-radius: 50%;\\n        margin-left: 26%;\\n        margin-right:26%;\\n        margin-top:10%;\\\" />\\n    <br>\\n    <p style=\\\"color:white; text-align:center; width:100%;\\\">\\n      {{'You_Can_Upload' | translate}}</p>\\n    <br>\\n    <div style=\\\"padding-left:4%; padding-right:4%; padding-top:2%; width: 71%;\\n      margin: auto; border:none;\\\">\\n      <input (click)=\\\"uploadPayment()\\\" class='btn bg-yellow color-white big-font m-top-butn-10' type='button'\\n        value=\\\" {{'Upload' | translate}}\\\" />\\n    </div>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PaymentPage } from './payment.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PaymentPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PaymentPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PaymentPageRoutingModule } from './payment-routing.module';\n\nimport { PaymentPage } from './payment.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    TranslateModule,\n    PaymentPageRoutingModule\n  ],\n  declarations: [PaymentPage]\n})\nexport class PaymentPageModule { }\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BheW1lbnQvcGF5bWVudC5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { AlertService, DataService } from '../service';\nimport { FileTransferObject, FileTransfer, FileUploadOptions } from '@ionic-native/file-transfer/ngx';\nimport { Camera, PictureSourceType, CameraOptions } from '@ionic-native/camera/ngx';\nimport { ActionSheetController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-payment',\n  templateUrl: './payment.page.html',\n  styleUrls: ['./payment.page.scss'],\n})\nexport class PaymentPage implements OnInit {\n  //upload_driver_payment\n  id;\n  file;\n  constructor(public actionSheetCtrl: ActionSheetController, public alertSrv: AlertService, public camera: Camera, public dataSrv: DataService, public transfer: FileTransfer) {\n    this.id = localStorage.getItem(\"driver_id\")\n  }\n\n  ngOnInit() {\n  }\n\n  uploadPayment() {\n    if (this.dataSrv.payment == null) {\n      this.alertSrv.presentToast(\"Please select an image\", \"danger\");\n      return;\n    }\n    this.alertSrv.show();\n    let api = \"api/upload_student_payment\"\n    let body = {\n      student_id: localStorage.getItem(\"driver_id\"),\n      voucher: this.dataSrv.payment_name\n    }\n    console.log(body);\n    this.dataSrv.httpPostMethod(api, body).then(res => {\n      console.log(res)\n      let temp = JSON.parse(res[\"data\"])\n      let sms = JSON.parse(res.data);\n      console.log(temp[\"data\"])\n      this.upload(this.dataSrv.payment, this.dataSrv.payment_name)\n      this.alertSrv.hide();\n      this.alertSrv.presentToast(\"Done\", \"primary\")\n    }, err => {\n      if (err.status == -3 || err.status == -4) {\n        this.alertSrv.presentToast(\"Some thing wrong please check internet connection\", \"danger\")\n      } else {\n        this.alertSrv.presentToast(\"Something wrong\", \"danger\")\n      }\n    })\n  }\n\n\n  upload(file, fileName) {\n    let options: FileUploadOptions = {\n      fileKey: 'file',\n      fileName: fileName,\n      chunkedMode: false,\n      httpMethod: 'post',\n      mimeType: \"image/jpeg\",\n      headers: {}\n    }\n\n    console.log(file)\n    console.log(fileName)\n    const fileTransfer: FileTransferObject = this.transfer.create();\n    //http://pickmeupjo.com/pickmeup/uploadphoto.php\n    fileTransfer.upload(file, 'http://pickmeupjo.com/pickmeup/uploadImage.php', options)\n      .then((data) => {\n        console.log(data)\n        // this.translate.get(\"uploadSuccess\").subscribe(value => {\n        console.log(\"Upload Success\", fileName)\n        // })\n      }, (err) => {\n        // this.translate.get(\"uploadError\").subscribe(value => {\n        console.log(\"Upload Error\", fileName)\n        // })\n        console.log(err)\n      })\n  }\n\n  pickImage(sourceType: PictureSourceType) {\n    let date = new Date().getTime()\n    const options: CameraOptions = {\n      quality: 70,\n      destinationType: this.camera.DestinationType.DATA_URL,\n      sourceType: sourceType,\n      encodingType: this.camera.EncodingType.JPEG,\n      saveToPhotoAlbum: true\n    }\n    this.camera.getPicture(options).then((imageData) => {\n      this.file = \"data:image/jpeg;base64,\" + imageData;\n    }, (err) => {\n      console.log(err)\n    });\n  }\n\n  async presentActionSheet(id) {\n    const actionSheet = await this.actionSheetCtrl.create({\n      header: \"Choose Image\",\n      buttons: [\n        {\n          text: \"Gallery\",\n          icon: 'images',\n          handler: () => {\n            this.pickImage(this.camera.PictureSourceType.PHOTOLIBRARY);\n          }\n        }, {\n          text: \"Camera\",\n          icon: 'camera',\n          handler: () => {\n            this.pickImage(this.camera.PictureSourceType.CAMERA);\n          }\n        }, {\n          text: \"Cancel\",\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n    await actionSheet.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}